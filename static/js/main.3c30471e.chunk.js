(this["webpackJsonpsn-ts-template"]=this["webpackJsonpsn-ts-template"]||[]).push([[0],{10:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__M95VY",dialogsItems:"Dialogs_dialogsItems__2nFq3",dialog:"Dialogs_dialog__1OLky",active:"Dialogs_active__3UHKX",messages:"Dialogs_messages__1VmHk",message:"Dialogs_message__1a9NF"}},22:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1yGOj",img:"ProfileInfo_img__3iXWd"}},23:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2PbKd",posts:"MyPosts_posts__1RwQ4"}},25:function(e,t,a){e.exports={userPhoto:"users_userPhoto__CIWxI",selectedPage:"users_selectedPage__2fG4e"}},37:function(e,t,a){e.exports={header:"Header_header__3vImZ"}},38:function(e,t,a){e.exports={item:"Post_item__CkvLJ"}},4:function(e,t,a){e.exports={nav:"Navbar_nav__1KpQm",item:"Navbar_item__1T86p",activeLink:"Navbar_activeLink__1Dlvh"}},42:function(e,t,a){e.exports=a.p+"static/media/user.98fd41aa.png"},45:function(e,t,a){e.exports=a(74)},50:function(e,t,a){},51:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),o=a.n(r),c=(a(50),a(51),a(2)),l=a(37),i=a.n(l),u=function(){return s.a.createElement("header",{className:i.a.header},s.a.createElement("img",{src:"https://miro.medium.com/max/1200/1*OQOVtYZWdAqGkWmZT4_BFw.jpeg",alt:""}))},m=a(4),d=a.n(m),E=a(8);console.log(d.a);var g,p=function(){return s.a.createElement("nav",{className:d.a.nav},s.a.createElement("div",{className:"".concat(d.a.item," ").concat(d.a.active)},s.a.createElement(E.b,{to:"/profile",activeClassName:d.a.activeLink},"Profile")),s.a.createElement("div",{className:d.a.item},s.a.createElement(E.b,{to:"/dialogs",activeClassName:d.a.activeLink},"Message")),s.a.createElement("div",{className:d.a.item},s.a.createElement(E.b,{to:"/users",activeClassName:d.a.activeLink},"Users")),s.a.createElement("div",{className:d.a.item},s.a.createElement(E.b,{to:"/news",activeClassName:d.a.activeLink},"News")),s.a.createElement("div",{className:d.a.item},s.a.createElement(E.b,{to:"/music",activeClassName:d.a.activeLink},"Music")),s.a.createElement("div",{className:d.a.item},s.a.createElement(E.b,{to:"/settings",activeClassName:d.a.activeLink},"Settings")))},f=a(22),v=a.n(f),_=function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{className:v.a.img,src:"https://avatars.mds.yandex.net/get-pdb/2797954/0e70c09d-6fa7-40ac-ba85-c36b467e8de5/s1200?webp=false",alt:""})),s.a.createElement("div",{className:v.a.descriptionBlock},"Ava+description"))},O=a(23),P=a.n(O),S=a(38),b=a.n(S),N=function(e){return s.a.createElement("div",{className:b.a.item},s.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/750997/2f4a61ff-0c60-41d6-a2f1-049bc4ee8f21/s1200?webp=false",alt:""}),e.message,s.a.createElement("div",null,s.a.createElement("span",null,"like")," ",e.likeCount))},T=function(e){console.log(e.posts);var t=e.posts.map((function(e){return s.a.createElement(N,{id:e.id,message:e.message,likeCount:e.likeCount})}));return s.a.createElement("div",{className:P.a.postsBlock},s.a.createElement("h3",null,"My posts"),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("textarea",{value:e.newPostText,onChange:function(t){var a=t.currentTarget.value;e.updateNewPostText(a)}})),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.addPost()}},"Add post"))),s.a.createElement("div",{className:P.a.posts},t))},h=a(11);!function(e){e.SET_TOTAL_COUNT="USERS/SET_TOTAL_COUNT",e.SET_CURRENT_PAGE="USERS/SET_CURRENT_PAGE",e.SET_USERS="USERS/SET_USERS",e.FOLLOW="USERS/FOLLOW",e.UNFOLLOW="USERS/UNFOLLOW",e.ADD_POST="PROFILE/ADD-POST",e.UPDATE_NEW_POST_TEXT="PROFILE/UPDATE-NEW-POST-TEXT",e.SEND_MESSAGE="DIALOGS/SEND-MESSAGE",e.UPDATE_NEW_MESSAGE_BODY="DIALOGS/UPDATE-NEW-MESSAGE-BODY"}(g||(g={}));var w=Object(h.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.messageForNewPost}}),(function(e){return{updateNewPostText:function(t){var a,n=(a=t,{type:g.UPDATE_NEW_POST_TEXT,newText:a});e(n)},addPost:function(){e({type:g.ADD_POST})}}}))(T),k=function(){return s.a.createElement("div",null,s.a.createElement(_,null),s.a.createElement(w,null))},y=function(e){return s.a.createElement("div",null,"News")},C=function(e){return s.a.createElement("div",null,"Music")},U=function(e){return s.a.createElement("div",null,"Settings")},j=a(10),A=a.n(j),D=function(e){var t="/dialog/"+e.id;return s.a.createElement("div",{className:A.a.dialog+" "+A.a.active},s.a.createElement(E.b,{to:t},e.name))},L=function(e){return s.a.createElement("div",{className:A.a.message},e.message)},M=function(e){console.log(e);var t=e.dialogs.map((function(e){return s.a.createElement(D,{id:e.id,key:e.id,name:e.name})})),a=e.messages.map((function(e){return s.a.createElement(L,{id:e.id,message:e.message,key:e.id})})),n=e.newMessageBody;return s.a.createElement("div",{className:A.a.dialogs},s.a.createElement("div",{className:A.a.dialogsItems},t),s.a.createElement("div",{className:A.a.messages},s.a.createElement("div",null,a),s.a.createElement("div",null,s.a.createElement("textarea",{value:n,onChange:function(t){var a=t.target.value;e.updateNewMessageBody(a)},placeholder:"Enter your message "})),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.sendMessage()}},"Send"))))},x=Object(h.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,newMessageBody:e.dialogsPage.newMessageBody}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:g.UPDATE_NEW_MESSAGE_BODY,body:e}}(t))},sendMessage:function(){e({type:g.SEND_MESSAGE})}}}))(M),B=a(40),W=a(41),R=a(44),F=a(43),G=a(25),I=a.n(G),H=a(26),z=a.n(H),V=a(42),X=a.n(V),Y=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(B.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.setCurrentPage(t),z.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize),{withCredentials:!0,headers:{"api-key":"8eaba7cd-8849-4eb5-b90f-f5fda0cd9786"}}).then((function(t){e.props.setUsers(t.data.items)}))},e}return Object(W.a)(a,[{key:"componentDidMount",value:function(){var e=this;z.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){for(var e=this,t=Math.ceil(this.props.totalUsersCount/this.props.pageSize),a=[],n=1;n<=t;n++)a.push(n);return s.a.createElement("div",null,s.a.createElement("div",null,a.map((function(t){return s.a.createElement("span",{className:e.props.currentPage===t?I.a.selectedPage:"",onClick:function(a){e.onPageChanged(t)}},t)}))),this.props.users.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement("span",null,s.a.createElement("div",null,s.a.createElement("img",{src:null!=t.photos.small?t.photos.small:X.a,className:I.a.userPhoto})),s.a.createElement("div",null,t.followed?s.a.createElement("button",{onClick:function(){e.props.unfollow(t.id)}},"Unfollow"):s.a.createElement("button",{onClick:function(){e.props.follow(t.id)}},"Follow"))),s.a.createElement("span",null,s.a.createElement("span",null,s.a.createElement("div",null,t.name),s.a.createElement("div",null,t.status)),s.a.createElement("span",null,s.a.createElement("div",null,"u.location.country"),s.a.createElement("div",null,"u.location.city"))))})))}}]),a}(s.a.Component),J=Object(h.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage}}),(function(e){return{follow:function(t){e(function(e){return{type:g.FOLLOW,id:e}}(t))},unfollow:function(t){e(function(e){return{type:g.UNFOLLOW,id:e}}(t))},setUsers:function(t){e(function(e){return{type:g.SET_USERS,users:e}}(t))},setCurrentPage:function(t){e(function(e){return{type:g.SET_CURRENT_PAGE,currentPage:e}}(t))},setTotalUsersCount:function(t){var a;e((a=t,{type:g.SET_TOTAL_COUNT,totalUsersCount:a}))}}}))(Y);var K=function(){return s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(u,null),s.a.createElement(p,null),s.a.createElement("div",{className:"app-wrapper-content"},s.a.createElement(c.a,{path:"/dialogs",render:function(){return s.a.createElement(x,null)}}),s.a.createElement(c.a,{path:"/profile",render:function(){return s.a.createElement(k,null)}}),s.a.createElement(c.a,{path:"/users",render:function(){return s.a.createElement(J,null)}}),s.a.createElement(c.a,{path:"/news",component:y}),s.a.createElement(c.a,{path:"/music",component:C}),s.a.createElement(c.a,{path:"/settings",component:U})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(15),Z=a(18),q=a(1),$={posts:[{id:1,message:"Hello",likeCount:12},{id:2,message:"How are you?",likeCount:25}],messageForNewPost:""},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.ADD_POST:var a={id:5,message:e.messageForNewPost,likeCount:0};return Object(q.a)(Object(q.a)({},e),{},{messageForNewPost:"",posts:[].concat(Object(Z.a)(e.posts),[a])});case g.UPDATE_NEW_POST_TEXT:return Object(q.a)(Object(q.a)({},e),{},{messageForNewPost:t.newText});default:return e}},te={dialogs:[{id:1,name:"Victor"},{id:2,name:"Valera"},{id:3,name:"Veronika"},{id:4,name:"Alex"},{id:5,name:"Dima"},{id:6,name:"Toxa"}],messages:[{id:1,message:"Hello"},{id:2,message:"How are you?"},{id:3,message:"kikii"},{id:4,message:"Alex"},{id:5,message:"Dima"},{id:6,message:"Toxa"}],newMessageBody:""},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.UPDATE_NEW_MESSAGE_BODY:return Object(q.a)(Object(q.a)({},e),{},{newMessageBody:t.body});case g.SEND_MESSAGE:var a=e.newMessageBody;return Object(q.a)(Object(q.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(Z.a)(e.messages),[{id:6,message:a}])});default:return e}},ne={},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return e},re={users:[],pageSize:5,totalUsersCount:0,currentPage:1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.FOLLOW:return Object(q.a)(Object(q.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(q.a)(Object(q.a)({},e),{},{followed:!0}):e}))});case g.UNFOLLOW:return Object(q.a)(Object(q.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(q.a)(Object(q.a)({},e),{},{followed:!1}):e}))});case g.SET_USERS:return Object(q.a)(Object(q.a)({},e),{},{users:t.users});case g.SET_CURRENT_PAGE:return Object(q.a)(Object(q.a)({},e),{},{currentPage:t.currentPage});case g.SET_TOTAL_COUNT:return Object(q.a)(Object(q.a)({},e),{},{totalUsersCount:t.totalUsersCount});default:return e}},ce=Object(Q.b)({profilePage:ee,dialogsPage:ae,sidebar:se,usersPage:oe}),le=Object(Q.c)(ce);window.store=le,console.log(window.store);var ie=le;o.a.render(s.a.createElement(E.a,null,s.a.createElement(h.a,{store:ie},s.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.3c30471e.chunk.js.map