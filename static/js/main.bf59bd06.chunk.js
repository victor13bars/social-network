(this["webpackJsonpsn-ts-template"]=this["webpackJsonpsn-ts-template"]||[]).push([[0],{10:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__M95VY",dialogsItems:"Dialogs_dialogsItems__2nFq3",dialog:"Dialogs_dialog__1OLky",active:"Dialogs_active__3UHKX",messages:"Dialogs_messages__1VmHk",message:"Dialogs_message__1a9NF"}},22:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1yGOj",img:"ProfileInfo_img__3iXWd"}},23:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2PbKd",posts:"MyPosts_posts__1RwQ4"}},26:function(e,t,a){e.exports={userPhoto:"users_userPhoto__CIWxI",selectedPage:"users_selectedPage__2fG4e"}},37:function(e,t,a){e.exports={header:"Header_header__3vImZ"}},38:function(e,t,a){e.exports={item:"Post_item__CkvLJ"}},4:function(e,t,a){e.exports={nav:"Navbar_nav__1KpQm",item:"Navbar_item__1T86p",activeLink:"Navbar_activeLink__1Dlvh"}},42:function(e,t,a){e.exports=a.p+"static/media/user.98fd41aa.png"},43:function(e,t,a){e.exports=a.p+"static/media/preloader.088f5f2e.svg"},46:function(e,t,a){e.exports=a(75)},51:function(e,t,a){},52:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),o=a.n(r),c=(a(51),a(52),a(2)),i=a(37),l=a.n(i),u=function(){return s.a.createElement("header",{className:l.a.header},s.a.createElement("img",{src:"https://miro.medium.com/max/1200/1*OQOVtYZWdAqGkWmZT4_BFw.jpeg",alt:""}))},m=a(4),d=a.n(m),g=a(8);console.log(d.a);var E,p=function(){return s.a.createElement("nav",{className:d.a.nav},s.a.createElement("div",{className:"".concat(d.a.item," ").concat(d.a.active)},s.a.createElement(g.b,{to:"/profile",activeClassName:d.a.activeLink},"Profile")),s.a.createElement("div",{className:d.a.item},s.a.createElement(g.b,{to:"/dialogs",activeClassName:d.a.activeLink},"Message")),s.a.createElement("div",{className:d.a.item},s.a.createElement(g.b,{to:"/users",activeClassName:d.a.activeLink},"Users")),s.a.createElement("div",{className:d.a.item},s.a.createElement(g.b,{to:"/news",activeClassName:d.a.activeLink},"News")),s.a.createElement("div",{className:d.a.item},s.a.createElement(g.b,{to:"/music",activeClassName:d.a.activeLink},"Music")),s.a.createElement("div",{className:d.a.item},s.a.createElement(g.b,{to:"/settings",activeClassName:d.a.activeLink},"Settings")))},f=a(22),v=a.n(f),_=function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{className:v.a.img,src:"https://avatars.mds.yandex.net/get-pdb/2797954/0e70c09d-6fa7-40ac-ba85-c36b467e8de5/s1200?webp=false",alt:""})),s.a.createElement("div",{className:v.a.descriptionBlock},"Ava+description"))},O=a(23),h=a.n(O),P=a(38),S=a.n(P),T=function(e){return s.a.createElement("div",{className:S.a.item},s.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/750997/2f4a61ff-0c60-41d6-a2f1-049bc4ee8f21/s1200?webp=false",alt:""}),e.message,s.a.createElement("div",null,s.a.createElement("span",null,"like")," ",e.likeCount))},N=function(e){console.log(e.posts);var t=e.posts.map((function(e){return s.a.createElement(T,{id:e.id,message:e.message,likeCount:e.likeCount})}));return s.a.createElement("div",{className:h.a.postsBlock},s.a.createElement("h3",null,"My posts"),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("textarea",{value:e.newPostText,onChange:function(t){var a=t.currentTarget.value;e.updateNewPostText(a)}})),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.addPost()}},"Add post"))),s.a.createElement("div",{className:h.a.posts},t))},b=a(11);!function(e){e.TOGGLE_IS_FETCHING="TOGGLE/IS_FETCHING",e.SET_TOTAL_COUNT="USERS/SET_TOTAL_COUNT",e.SET_CURRENT_PAGE="USERS/SET_CURRENT_PAGE",e.SET_USERS="USERS/SET_USERS",e.FOLLOW="USERS/FOLLOW",e.UNFOLLOW="USERS/UNFOLLOW",e.ADD_POST="PROFILE/ADD-POST",e.UPDATE_NEW_POST_TEXT="PROFILE/UPDATE-NEW-POST-TEXT",e.SEND_MESSAGE="DIALOGS/SEND-MESSAGE",e.UPDATE_NEW_MESSAGE_BODY="DIALOGS/UPDATE-NEW-MESSAGE-BODY"}(E||(E={}));var w=Object(b.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.messageForNewPost}}),(function(e){return{updateNewPostText:function(t){var a,n=(a=t,{type:E.UPDATE_NEW_POST_TEXT,newText:a});e(n)},addPost:function(){e({type:E.ADD_POST})}}}))(N),C=function(){return s.a.createElement("div",null,s.a.createElement(_,null),s.a.createElement(w,null))},y=function(e){return s.a.createElement("div",null,"News")},U=function(e){return s.a.createElement("div",null,"Music")},k=function(e){return s.a.createElement("div",null,"Settings")},j=a(10),L=a.n(j),A=function(e){var t="/dialog/"+e.id;return s.a.createElement("div",{className:L.a.dialog+" "+L.a.active},s.a.createElement(g.b,{to:t},e.name))},D=function(e){return s.a.createElement("div",{className:L.a.message},e.message)},F=function(e){console.log(e);var t=e.dialogs.map((function(e){return s.a.createElement(A,{id:e.id,key:e.id,name:e.name})})),a=e.messages.map((function(e){return s.a.createElement(D,{id:e.id,message:e.message,key:e.id})})),n=e.newMessageBody;return s.a.createElement("div",{className:L.a.dialogs},s.a.createElement("div",{className:L.a.dialogsItems},t),s.a.createElement("div",{className:L.a.messages},s.a.createElement("div",null,a),s.a.createElement("div",null,s.a.createElement("textarea",{value:n,onChange:function(t){var a=t.target.value;e.updateNewMessageBody(a)},placeholder:"Enter your message "})),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.sendMessage()}},"Send"))))},G=Object(b.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,newMessageBody:e.dialogsPage.newMessageBody}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:E.UPDATE_NEW_MESSAGE_BODY,body:e}}(t))},sendMessage:function(){e({type:E.SEND_MESSAGE})}}}))(F),M=a(40),x=a(41),I=a(45),B=a(44),W=a(25),R=a.n(W),H=a(26),z=a.n(H),V=a(42),X=a.n(V),Y=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=t;n++)a.push(n);return s.a.createElement("div",null,s.a.createElement("div",null,a.map((function(t){return s.a.createElement("span",{className:e.currentPage===t?z.a.selectedPage:"",onClick:function(a){e.onPageChanged(t)}},t)}))),e.users.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement("span",null,s.a.createElement("div",null,s.a.createElement("img",{src:null!=t.photos.small?t.photos.small:X.a,className:z.a.userPhoto})),s.a.createElement("div",null,t.followed?s.a.createElement("button",{onClick:function(){e.unfollow(t.id)}},"Unfollow"):s.a.createElement("button",{onClick:function(){e.follow(t.id)}},"Follow"))),s.a.createElement("span",null,s.a.createElement("span",null,s.a.createElement("div",null,t.name),s.a.createElement("div",null,t.status)),s.a.createElement("span",null,s.a.createElement("div",null,"u.location.country"),s.a.createElement("div",null,"u.location.city"))))})))},J=a(43),K=a.n(J),Q=function(){return s.a.createElement("div",null,s.a.createElement("img",{src:K.a}))},Z=function(e){Object(I.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(M.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.toggleIsFetching(!0),e.props.setCurrentPage(t),R.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),R.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize),{withCredentials:!0,headers:{"api-key":"8eaba7cd-8849-4eb5-b90f-f5fda0cd9786"}}).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.isFetching?s.a.createElement(Q,null):null,s.a.createElement(Y,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow}))}}]),a}(s.a.Component),q=Object(b.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),(function(e){return{follow:function(t){e(function(e){return{type:E.FOLLOW,id:e}}(t))},unfollow:function(t){e(function(e){return{type:E.UNFOLLOW,id:e}}(t))},setUsers:function(t){e(function(e){return{type:E.SET_USERS,users:e}}(t))},setCurrentPage:function(t){e(function(e){return{type:E.SET_CURRENT_PAGE,currentPage:e}}(t))},setTotalUsersCount:function(t){var a;e((a=t,{type:E.SET_TOTAL_COUNT,totalUsersCount:a}))},toggleIsFetching:function(t){e(function(e){return{type:E.TOGGLE_IS_FETCHING,isFetching:e}}(t))}}}))(Z);var $=function(){return s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(u,null),s.a.createElement(p,null),s.a.createElement("div",{className:"app-wrapper-content"},s.a.createElement(c.a,{path:"/dialogs",render:function(){return s.a.createElement(G,null)}}),s.a.createElement(c.a,{path:"/profile",render:function(){return s.a.createElement(C,null)}}),s.a.createElement(c.a,{path:"/users",render:function(){return s.a.createElement(q,null)}}),s.a.createElement(c.a,{path:"/news",component:y}),s.a.createElement(c.a,{path:"/music",component:U}),s.a.createElement(c.a,{path:"/settings",component:k})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(15),te=a(18),ae=a(1),ne={posts:[{id:1,message:"Hello",likeCount:12},{id:2,message:"How are you?",likeCount:25}],messageForNewPost:""},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_POST:var a={id:5,message:e.messageForNewPost,likeCount:0};return Object(ae.a)(Object(ae.a)({},e),{},{messageForNewPost:"",posts:[].concat(Object(te.a)(e.posts),[a])});case E.UPDATE_NEW_POST_TEXT:return Object(ae.a)(Object(ae.a)({},e),{},{messageForNewPost:t.newText});default:return e}},re={dialogs:[{id:1,name:"Victor"},{id:2,name:"Valera"},{id:3,name:"Veronika"},{id:4,name:"Alex"},{id:5,name:"Dima"},{id:6,name:"Toxa"}],messages:[{id:1,message:"Hello"},{id:2,message:"How are you?"},{id:3,message:"kikii"},{id:4,message:"Alex"},{id:5,message:"Dima"},{id:6,message:"Toxa"}],newMessageBody:""},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_NEW_MESSAGE_BODY:return Object(ae.a)(Object(ae.a)({},e),{},{newMessageBody:t.body});case E.SEND_MESSAGE:var a=e.newMessageBody;return Object(ae.a)(Object(ae.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(te.a)(e.messages),[{id:6,message:a}])});default:return e}},ce={},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return e},le={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.FOLLOW:return Object(ae.a)(Object(ae.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(ae.a)(Object(ae.a)({},e),{},{followed:!0}):e}))});case E.UNFOLLOW:return Object(ae.a)(Object(ae.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(ae.a)(Object(ae.a)({},e),{},{followed:!1}):e}))});case E.SET_USERS:return Object(ae.a)(Object(ae.a)({},e),{},{users:t.users});case E.SET_CURRENT_PAGE:return Object(ae.a)(Object(ae.a)({},e),{},{currentPage:t.currentPage});case E.SET_TOTAL_COUNT:return Object(ae.a)(Object(ae.a)({},e),{},{totalUsersCount:t.totalUsersCount});case E.TOGGLE_IS_FETCHING:return Object(ae.a)(Object(ae.a)({},e),{},{isFetching:t.isFetching});default:return e}},me=Object(ee.b)({profilePage:se,dialogsPage:oe,sidebar:ie,usersPage:ue}),de=Object(ee.c)(me);window.store=de,console.log(window.store);var ge=de;o.a.render(s.a.createElement(g.a,null,s.a.createElement(b.a,{store:ge},s.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.bf59bd06.chunk.js.map