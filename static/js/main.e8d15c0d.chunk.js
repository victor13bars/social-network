(this["webpackJsonpsn-ts-template"]=this["webpackJsonpsn-ts-template"]||[]).push([[0],{11:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__M95VY",dialogsItems:"Dialogs_dialogsItems__2nFq3",dialog:"Dialogs_dialog__1OLky",active:"Dialogs_active__3UHKX",messages:"Dialogs_messages__1VmHk",message:"Dialogs_message__1a9NF"}},28:function(e,t,a){e.exports={userPhoto:"users_userPhoto__CIWxI",selectedPage:"users_selectedPage__2fG4e"}},29:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1yGOj",img:"ProfileInfo_img__3iXWd"}},30:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2PbKd",posts:"MyPosts_posts__1RwQ4"}},4:function(e,t,a){e.exports={nav:"Navbar_nav__1KpQm",item:"Navbar_item__1T86p",activeLink:"Navbar_activeLink__1Dlvh"}},41:function(e,t,a){e.exports={header:"Header_header__3vImZ"}},43:function(e,t,a){e.exports=a.p+"static/media/user.98fd41aa.png"},44:function(e,t,a){e.exports=a.p+"static/media/preloader.088f5f2e.svg"},45:function(e,t,a){e.exports={item:"Post_item__CkvLJ"}},46:function(e,t,a){e.exports=a(75)},51:function(e,t,a){},52:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(17),o=a.n(r),l=(a(51),a(52),a(2)),i=a(41),c=a.n(i),u=function(){return s.a.createElement("header",{className:c.a.header},s.a.createElement("img",{src:"https://miro.medium.com/max/1200/1*OQOVtYZWdAqGkWmZT4_BFw.jpeg",alt:""}))},m=a(4),d=a.n(m),p=a(5);console.log(d.a);var E,g=function(){return s.a.createElement("nav",{className:d.a.nav},s.a.createElement("div",{className:"".concat(d.a.item," ").concat(d.a.active)},s.a.createElement(p.b,{to:"/profile",activeClassName:d.a.activeLink},"Profile")),s.a.createElement("div",{className:d.a.item},s.a.createElement(p.b,{to:"/dialogs",activeClassName:d.a.activeLink},"Message")),s.a.createElement("div",{className:d.a.item},s.a.createElement(p.b,{to:"/users",activeClassName:d.a.activeLink},"Users")),s.a.createElement("div",{className:d.a.item},s.a.createElement(p.b,{to:"/news",activeClassName:d.a.activeLink},"News")),s.a.createElement("div",{className:d.a.item},s.a.createElement(p.b,{to:"/music",activeClassName:d.a.activeLink},"Music")),s.a.createElement("div",{className:d.a.item},s.a.createElement(p.b,{to:"/settings",activeClassName:d.a.activeLink},"Settings")))},f=function(e){return s.a.createElement("div",null,"News")},v=function(e){return s.a.createElement("div",null,"Music")},_=function(e){return s.a.createElement("div",null,"Settings")},O=a(11),h=a.n(O),b=function(e){var t="/dialog/"+e.id;return s.a.createElement("div",{className:h.a.dialog+" "+h.a.active},s.a.createElement(p.b,{to:t},e.name))},S=function(e){return s.a.createElement("div",{className:h.a.message},e.message)},P=function(e){console.log(e);var t=e.dialogs.map((function(e){return s.a.createElement(b,{id:e.id,key:e.id,name:e.name})})),a=e.messages.map((function(e){return s.a.createElement(S,{id:e.id,message:e.message,key:e.id})})),n=e.newMessageBody;return s.a.createElement("div",{className:h.a.dialogs},s.a.createElement("div",{className:h.a.dialogsItems},t),s.a.createElement("div",{className:h.a.messages},s.a.createElement("div",null,a),s.a.createElement("div",null,s.a.createElement("textarea",{value:n,onChange:function(t){var a=t.target.value;e.updateNewMessageBody(a)},placeholder:"Enter your message "})),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.sendMessage()}},"Send"))))},T=a(10);!function(e){e.TOGGLE_IS_FETCHING="TOGGLE/IS_FETCHING",e.SET_TOTAL_COUNT="USERS/SET_TOTAL_COUNT",e.SET_CURRENT_PAGE="USERS/SET_CURRENT_PAGE",e.SET_USERS="USERS/SET_USERS",e.FOLLOW="USERS/FOLLOW",e.UNFOLLOW="USERS/UNFOLLOW",e.ADD_POST="PROFILE/ADD-POST",e.SET_USER_PROFILE="PROFILE/SET-USER-PROFILE",e.UPDATE_NEW_POST_TEXT="PROFILE/UPDATE-NEW-POST-TEXT",e.SEND_MESSAGE="DIALOGS/SEND-MESSAGE",e.UPDATE_NEW_MESSAGE_BODY="DIALOGS/UPDATE-NEW-MESSAGE-BODY"}(E||(E={}));var N=Object(T.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,newMessageBody:e.dialogsPage.newMessageBody}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:E.UPDATE_NEW_MESSAGE_BODY,body:e}}(t))},sendMessage:function(){e({type:E.SEND_MESSAGE})}}}))(P),w=a(19),C=a(20),U=a(23),y=a(21),k=a(16),j=a.n(k),L=a(28),F=a.n(L),A=a(43),D=a.n(A),I=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=t;n++)a.push(n);return s.a.createElement("div",null,s.a.createElement("div",null,a.map((function(t){return s.a.createElement("span",{className:e.currentPage===t?F.a.selectedPage:"",onClick:function(a){e.onPageChanged(t)}},t)}))),e.users.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement("span",null,s.a.createElement("div",null,s.a.createElement(p.b,{to:"/profile/"+t.id},s.a.createElement("img",{src:null!=t.photos.small?t.photos.small:D.a,className:F.a.userPhoto}))),s.a.createElement("div",null,t.followed?s.a.createElement("button",{onClick:function(){e.unfollow(t.id)}},"Unfollow"):s.a.createElement("button",{onClick:function(){e.follow(t.id)}},"Follow"))),s.a.createElement("span",null,s.a.createElement("span",null,s.a.createElement("div",null,t.name),s.a.createElement("div",null,t.status)),s.a.createElement("span",null,s.a.createElement("div",null,"u.location.country"),s.a.createElement("div",null,"u.location.city"))))})))},M=a(44),R=a.n(M),G=function(){return s.a.createElement("div",null,s.a.createElement("img",{src:R.a}))},x=function(e){Object(U.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.toggleIsFetching(!0),e.props.setCurrentPage(t),j.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),j.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize),{withCredentials:!0,headers:{"api-key":"8eaba7cd-8849-4eb5-b90f-f5fda0cd9786"}}).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.isFetching?s.a.createElement(G,null):null,s.a.createElement(I,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow}))}}]),a}(s.a.Component),B=Object(T.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:E.FOLLOW,id:e}},unfollow:function(e){return{type:E.UNFOLLOW,id:e}},setUsers:function(e){return{type:E.SET_USERS,users:e}},setCurrentPage:function(e){return{type:E.SET_CURRENT_PAGE,currentPage:e}},setTotalUsersCount:function(e){return{type:E.SET_TOTAL_COUNT,totalUsersCount:e}},toggleIsFetching:function(e){return{type:E.TOGGLE_IS_FETCHING,isFetching:e}}})(x),W=a(29),H=a.n(W),z=function(e){return e.profile?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{className:H.a.img,src:"https://avatars.mds.yandex.net/get-pdb/2797954/0e70c09d-6fa7-40ac-ba85-c36b467e8de5/s1200?webp=false",alt:""})),s.a.createElement("div",{className:H.a.descriptionBlock},s.a.createElement("img",{src:e.profile.photos.large,alt:""}),s.a.createElement("div",null,e.profile.aboutMe),s.a.createElement("div",null,e.profile.lookingForAJobDescription),"Ava+description")):s.a.createElement(G,null)},V=a(30),X=a.n(V),Y=a(45),J=a.n(Y),K=function(e){return s.a.createElement("div",{className:J.a.item},s.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/750997/2f4a61ff-0c60-41d6-a2f1-049bc4ee8f21/s1200?webp=false",alt:""}),e.message,s.a.createElement("div",null,s.a.createElement("span",null,"like")," ",e.likeCount))},Q=function(e){console.log(e.posts);var t=e.posts.map((function(e){return s.a.createElement(K,{id:e.id,message:e.message,likeCount:e.likeCount})}));return s.a.createElement("div",{className:X.a.postsBlock},s.a.createElement("h3",null,"My posts"),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("textarea",{value:e.newPostText,onChange:function(t){var a=t.currentTarget.value;e.updateNewPostText(a)}})),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.addPost()}},"Add post"))),s.a.createElement("div",{className:X.a.posts},t))},Z=Object(T.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.messageForNewPost}}),(function(e){return{updateNewPostText:function(t){var a,n=(a=t,{type:E.UPDATE_NEW_POST_TEXT,newText:a});e(n)},addPost:function(){e({type:E.ADD_POST})}}}))(Q),q=function(e){return s.a.createElement("div",null,s.a.createElement(z,{profile:e.profile}),s.a.createElement(Z,null))},$=function(e){Object(U.a)(a,e);var t=Object(y.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.a.get("https://social-network.samuraijs.com/api/1.0/profile/2",{withCredentials:!0,headers:{"api-key":"8eaba7cd-8849-4eb5-b90f-f5fda0cd9786"}}).then((function(t){e.props.setUserProfile(t.data)}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(q,Object.assign({},this.props,{profile:this.props.profile})))}}]),a}(s.a.Component),ee=Object(T.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:E.SET_USER_PROFILE,profile:e}}})($);var te=function(){return s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(u,null),s.a.createElement(g,null),s.a.createElement("div",{className:"app-wrapper-content"},s.a.createElement(l.a,{path:"/dialogs",render:function(){return s.a.createElement(N,null)}}),s.a.createElement(l.a,{path:"/profile",render:function(){return s.a.createElement(ee,null)}}),s.a.createElement(l.a,{path:"/users",render:function(){return s.a.createElement(B,null)}}),s.a.createElement(l.a,{path:"/news",component:f}),s.a.createElement(l.a,{path:"/music",component:v}),s.a.createElement(l.a,{path:"/settings",component:_})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(15),ne=a(22),se=a(1),re={posts:[{id:1,message:"Hello",likeCount:12},{id:2,message:"How are you?",likeCount:25}],messageForNewPost:"IT-KAMASUTRA.COM",profile:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_POST:var a={id:5,message:e.messageForNewPost,likeCount:0};return Object(se.a)(Object(se.a)({},e),{},{messageForNewPost:"",posts:[].concat(Object(ne.a)(e.posts),[a])});case E.UPDATE_NEW_POST_TEXT:return Object(se.a)(Object(se.a)({},e),{},{messageForNewPost:t.newText});case E.SET_USER_PROFILE:return Object(se.a)(Object(se.a)({},e),{},{profile:t.profile});default:return e}},le={dialogs:[{id:1,name:"Victor"},{id:2,name:"Valera"},{id:3,name:"Veronika"},{id:4,name:"Alex"},{id:5,name:"Dima"},{id:6,name:"Toxa"}],messages:[{id:1,message:"Hello"},{id:2,message:"How are you?"},{id:3,message:"kikii"},{id:4,message:"Alex"},{id:5,message:"Dima"},{id:6,message:"Toxa"}],newMessageBody:""},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.UPDATE_NEW_MESSAGE_BODY:return Object(se.a)(Object(se.a)({},e),{},{newMessageBody:t.body});case E.SEND_MESSAGE:var a=e.newMessageBody;return Object(se.a)(Object(se.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(ne.a)(e.messages),[{id:6,message:a}])});default:return e}},ce={},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return e},me={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.FOLLOW:return Object(se.a)(Object(se.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(se.a)(Object(se.a)({},e),{},{followed:!0}):e}))});case E.UNFOLLOW:return Object(se.a)(Object(se.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(se.a)(Object(se.a)({},e),{},{followed:!1}):e}))});case E.SET_USERS:return Object(se.a)(Object(se.a)({},e),{},{users:t.users});case E.SET_CURRENT_PAGE:return Object(se.a)(Object(se.a)({},e),{},{currentPage:t.currentPage});case E.SET_TOTAL_COUNT:return Object(se.a)(Object(se.a)({},e),{},{totalUsersCount:t.totalUsersCount});case E.TOGGLE_IS_FETCHING:return Object(se.a)(Object(se.a)({},e),{},{isFetching:t.isFetching});default:return e}},pe=Object(ae.b)({profilePage:oe,dialogsPage:ie,sidebar:ue,usersPage:de}),Ee=Object(ae.c)(pe);window.store=Ee,console.log(window.store);var ge=Ee;o.a.render(s.a.createElement(p.a,null,s.a.createElement(T.a,{store:ge},s.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.e8d15c0d.chunk.js.map